/* 
 * COMPREHENSIVE ZOOM RESPONSIVENESS AND GREEN-TO-WHITE CONVERSION
 * This file ensures proper scaling at all zoom levels and converts green containers to white
 * Optimized for 90%, 100%, 110%, 125%, 150%, and 200% zoom levels
 */

/* =============================================================================
   ZOOM RESPONSIVENESS - BASE RESPONSIVE UNITS
   ============================================================================= */

/* Ensure all elements use relative units for better zoom scaling */
html {
  font-size: 16px; /* Base font size */
  scroll-behavior: smooth;
}

/* Make containers use viewport-relative units */
.container,
.main-content,
.home-container {
  max-width: 75rem !important; /* 1200px equivalent */
  width: 100% !important;
  margin: 0 auto !important;
  padding-left: 1rem !important;
  padding-right: 1rem !important;
  box-sizing: border-box !important;
}

/* =============================================================================
   HEADER/NAVBAR ZOOM RESPONSIVENESS
   ============================================================================= */

/* Ensure header scales properly */
header,
.header,
.navbar,
nav {
  width: 100% !important;
  max-width: none !important;
  box-sizing: border-box !important;
  overflow: visible !important;
  position: relative !important;
}

/* Specifically handle media elements in headers to prevent visual overflow issues */
header img,
header video,
header canvas,
.header img,
.header video,
.header canvas,
.navbar img,
.navbar video,
.navbar canvas,
nav img,
nav video,
nav canvas {
  overflow: hidden !important;
  max-width: 100% !important;
  height: auto !important;
}

/* Header content container */
.header-content,
.nav-content,
.navbar-content {
  max-width: 75rem !important; /* 1200px */
  width: 100% !important;
  margin: 0 auto !important;
  padding: 0 1rem !important;
  box-sizing: border-box !important;
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
}

/* Navigation links */
.nav-links,
.navbar-nav,
.header-nav {
  display: flex !important;
  align-items: center !important;
  gap: 1.5rem !important;
  flex-wrap: wrap !important;
  margin: 0 !important;
  padding: 0 !important;
}

/* Navigation items */
.nav-item,
.nav-link,
.navbar-item {
  font-size: 1rem !important;
  padding: 0.5rem 1rem !important;
  white-space: nowrap !important;
  text-decoration: none !important;
  border-radius: 0.375rem !important;
  transition: all 0.2s ease !important;
}

/* Logo/Brand */
.logo,
.brand,
.navbar-brand {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  flex-shrink: 0 !important;
}

/* =============================================================================
   GREEN TO WHITE CONTAINER CONVERSION
   ============================================================================= */

/* Target all green backgrounds and convert to white */
*[style*="#10b981"],
*[style*="#059669"],
*[style*="emerald"],
.stats-card,
.stats-section,
.book-grid-container,
.book-recommendations,
.activity-feed,
.sidebar-section,
.message-item,
.message-thread,
.book-detail-container {
  background: white !important;
  background-color: white !important;
  background-image: none !important;
  border: 0.125rem solid #e5e7eb !important; /* 2px */
  box-shadow: 0 0.25rem 0.75rem rgba(0, 0, 0, 0.1) !important; /* 0 4px 12px */
  border-radius: 0.75rem !important; /* 12px */
  padding: 2rem !important;
  margin: 1rem !important;
  min-height: 8rem !important; /* 128px */
}

/* Convert green text colors to dark neutral */
*[style*="color: #10b981"],
*[style*="color: #059669"] {
  color: #374151 !important;
}

/* Convert green borders to neutral */
*[style*="border-color: #10b981"],
*[style*="border: #10b981"],
*[style*="border-top: #10b981"] {
  border-color: #e5e7eb !important;
}

/* =============================================================================
   COMPONENT-SPECIFIC ZOOM FIXES
   ============================================================================= */

/* Hero Section Responsiveness */
.hero-section {
  padding: 5rem 2rem !important;
  margin: 2rem auto !important;
  max-width: 75rem !important; /* 1200px */
  border-radius: 2rem !important; /* 32px */
}

/* Stats Container */
.hero-stats {
  display: flex !important;
  justify-content: center !important;
  gap: 2rem !important;
  flex-wrap: wrap !important;
}

/* Step Cards */
.steps-container {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(18.75rem, 1fr)) !important; /* 300px min */
  gap: 2rem !important;
  max-width: 75rem !important;
  margin: 0 auto !important;
}

/* Testimonials */
.testimonials-grid {
  display: grid !important;
  grid-template-columns: repeat(auto-fit, minmax(18.75rem, 1fr)) !important; /* 300px min */
  gap: 2rem !important;
  max-width: 75rem !important;
  margin: 0 auto !important;
}

/* =============================================================================
   ZOOM-SPECIFIC MEDIA QUERIES
   ============================================================================= */

/* Handle high zoom levels (125% and above) */
@media (max-resolution: 1.25dppx) and (min-resolution: 1.24dppx) {
  .container,
  .home-container {
    max-width: 60rem !important; /* Reduce max width at high zoom */
  }
  
  .hero-section {
    padding: 3rem 1.5rem !important;
  }
  
  .steps-container,
  .testimonials-grid {
    grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr)) !important;
    gap: 1.5rem !important;
  }
}

/* Handle very high zoom levels (150% and above) */
@media (max-resolution: 1.5dppx) and (min-resolution: 1.49dppx) {
  .container,
  .home-container {
    max-width: 50rem !important;
  }
  
  .hero-section {
    padding: 2.5rem 1rem !important;
    border-radius: 1.5rem !important;
  }
  
  .steps-container,
  .testimonials-grid {
    grid-template-columns: 1fr !important;
  }
  
  .hero-stats {
    flex-direction: column !important;
    gap: 1.5rem !important;
  }
}

/* =============================================================================
   FLEXIBLE CONTAINER SYSTEM FOR ALL ZOOM LEVELS
   ============================================================================= */

/* Use CSS Grid for main layout to handle zoom better */
.main-layout {
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 2rem !important;
  max-width: 75rem !important;
  margin: 0 auto !important;
  padding: 0 1rem !important;
}

/* Flexible button sizing */
.cta-button,
.signup-button,
.primary-button,
button {
  padding: 0.75rem 2rem !important;
  font-size: 1rem !important;
  border-radius: 2rem !important;
  min-height: 3rem !important; /* 48px */
  box-sizing: border-box !important;
}

/* =============================================================================
   TEXT SCALING FOR ZOOM
   ============================================================================= */

/* Use rem units for all text to scale with zoom */
h1 { font-size: 3rem !important; line-height: 1.1 !important; }
h2 { font-size: 2.5rem !important; line-height: 1.2 !important; }
h3 { font-size: 2rem !important; line-height: 1.3 !important; }
h4 { font-size: 1.5rem !important; line-height: 1.4 !important; }
h5 { font-size: 1.25rem !important; line-height: 1.5 !important; }
h6 { font-size: 1.125rem !important; line-height: 1.5 !important; }
p, span, div { font-size: 1rem !important; line-height: 1.6 !important; }

/* =============================================================================
   OVERFLOW AND LAYOUT FIXES
   ============================================================================= */

/* Prevent horizontal scrolling at any zoom level */
body, html {
  overflow-x: hidden !important;
  max-width: 100vw !important;
}

/* Fix media elements to prevent visual overflow issues */
img, video, canvas {
  overflow: hidden !important;
  max-width: 100% !important;
  height: auto !important;
  box-sizing: border-box !important;
}

/* Ensure all containers respect boundaries */
* {
  box-sizing: border-box !important;
}

*:not(svg):not(path) {
  max-width: 100% !important;
}

/* =============================================================================
   MOBILE ZOOM RESPONSIVENESS
   ============================================================================= */

@media (max-width: 48rem) { /* 768px */
  .container,
  .home-container {
    padding: 0 0.75rem !important;
  }
  
  .hero-section {
    padding: 3rem 1.5rem !important;
    margin: 1.5rem 0 !important;
  }
  
  .steps-container,
  .testimonials-grid {
    grid-template-columns: 1fr !important;
    gap: 1.5rem !important;
  }
  
  .hero-stats {
    flex-direction: column !important;
    gap: 1.5rem !important;
  }
  
  .nav-links {
    flex-direction: column !important;
    gap: 0.75rem !important;
  }
}

@media (max-width: 36rem) { /* 576px */
  .hero-section {
    padding: 2rem 1rem !important;
    border-radius: 1.25rem !important;
  }
  
  h1 { font-size: 2rem !important; }
  h2 { font-size: 1.75rem !important; }
  h3 { font-size: 1.5rem !important; }
  
  .cta-button,
  .signup-button {
    width: 100% !important;
    max-width: 20rem !important; /* 320px */
    min-height: 3rem !important; /* 48px */
    padding: 0.875rem 1.5rem !important;
    font-size: 0.95rem !important;
    border-radius: 2.5rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 0.5rem !important;
  }
  
  .hero-buttons {
    padding: 0 0.5rem !important;
    gap: 1rem !important;
  }
}

/* =============================================================================
   ACCESSIBILITY AND PERFORMANCE
   ============================================================================= */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  * {
    border-color: #000 !important;
    color: #000 !important;
  }
  
  .hero-section,
  .join-community {
    background: #fff !important;
    color: #000 !important;
  }
}

/* Focus indicators for keyboard navigation */
*:focus {
  outline: 0.125rem solid #2563eb !important; /* 2px solid blue */
  outline-offset: 0.125rem !important;
}

/* =============================================================================
   BROWSER-SPECIFIC ZOOM FIXES
   ============================================================================= */

/* Chrome zoom fix */
@supports (-webkit-appearance: none) {
  .container {
    -webkit-transform: scale(1) !important;
    transform: scale(1) !important;
  }
}

/* Firefox zoom fix */
@-moz-document url-prefix() {
  .container {
    -moz-transform: scale(1) !important;
    transform: scale(1) !important;
  }
}

/* Safari zoom fix */
@supports (-webkit-marquee-repetition: infinite) {
  .container {
    -webkit-transform: scale(1) !important;
    transform: scale(1) !important;
  }
}